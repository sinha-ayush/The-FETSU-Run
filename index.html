<!DOCTYPE HTML>
<html>
	<head>
		<title>The F.E.T.S.U. Run for Education</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<div class="modal" id="myModal">
			<div class="modal-content">
				<span class="close">&times;</span>
				<p><br>1)Please choose the run category.Provide us with a secure email ID/Mobile No. that you can access regularly since this will be a primary means of communication during the run-up to the run.
					<br>2)Users of email services that offer filtering/blocking of messages from unknown email address should add this email id: marathon.fetsuju@gmail.com to their address list.
					<br>3)We will be sending regular updates to the mobile number you have provided in the participation form.This should not be treated as spam and you shall not take any action against our bulk SMS service provider.
					<br>4)Any email sent to the email address registered with the organisers shall be deemed as received by the runners.
					<br>5)You are aware that long distance running is an extreme sport and can be injurious to body and health.You take full responsibility for participating in the F.E.T.S.U. run and do not hold the Organising Committee or any of its members or entities responsible for an injury or accident.
					<br>6)You shall consult your physician and undergo a complete medical examination to assess your suitability to participate in the run.
					<br>7)You also assume all risks associated with participating in the run including, but not limited to falls, contact with other participants, effects of the weather including high heat or humidity, traffic and condition of the road, arson or terrorist threats and all other risks associated with a public event.
					<br>8)You agree that the F.E.T.S.U. run shall not liable to any loss, damage, illness or injury that might occur as a result of your participation.
					<br>9)You agree to the instructions provided by the organisers from time to time in the best interest of your health and event safety.
					<br>10)You also agree to stop running if instructed by the race director or the medical staff or by the aid station volunteers.
					<br>11)You confirm that your name and media recordings taken during the participation maybe used to publicise the run.
					<br>12)You may acknowledge and agree that your personal information can be stored and used by the F.E.T.S.U. run or any other company in connection with the organisation, promotion and administration of the run and for the compilation of statistical information.
					<br>13)You confirm that, in the event of adverse weather conditions, major incidents or threats on the day, any of the force majeure restriction by the authority, the organisers reserve the right to stop/cancel/postpone the run.
					<br>14)The runners are recommended to stay off the course beyond the cutoff time considering the safety and traffic regulations.
					<br>15)For any reason you cannot turn upon race day, no refund of any form will be given.
					<br>16)You have to carry ID proof along with you on the day of run and also at the time of goodies distribution.You may carry either of the following; passport copy,Driving License,Aadhar Card,PAN Card or voters ID.
					<br>17)If the participant is a minor, you confirm that you are a parent/guardian of the child and that he/she has permission to take part in the run.You further concur that all the above rules shall apply to him/her as if he were a major.
					<br>18)Participants must personally appear for collecting the running goodies. Goodies can be distributed in absentee with written consent of the participants runners.
					<br>19)You understand the risk of participating on a course with vehicular traffic, even if the course maybe regulated or policed.
					<br>20)you agree that in case of any illness or injury caused to you due to any medical reasons medical conditions during the race at any time, thereafter as ,a result of the run, none of the sponsors of the run or any political entity or authorities, or officials or any contractor or construction firms working along the course, or any of the F.E.T.S.U. run committee  persons, officials or any persons or entities associated with the run or directors, employees, agents or representatives of all or any of the aforementioned shall not be held liable by you or your representative</p>
			  </div>
			</div>


		<!-- Header -->
			<header id="header">
				<h1>The F.E.T.S.U. Run for Education</h1>
			</header>

		<!-- Signup Form -->
			<form id="signup-form" method="post" action="#" onsubmit="formsubmit(event)">
				<ul style="list-style: none;">
				<li><input type="text" name="name" id="email" placeholder="Name" /></li>
				<li style="margin-top: 25px;"><input type="email" name="email" id="email" placeholder="Email Address" /></li>
				<li style="margin-top: 25px;"><input type="text" name="phoneNumber" id="email" placeholder="Phone Number" /></li>
				<li style="margin-top: 25px;">
				<select id="chargeSelect" onchange="checkselect(event)">
					<option value="350">3km-fun run(reporting time-7am, start time 7:30am)</option>
					<option value="500">5km-timed run(reporting time 6:30am,start time 7 am)</option>
					<option value="650">10km-timed run(reporting time 5:30am,start time 6:15 am)</option>
					<option value="850">21km-timed run(reporting time:4:30am,start time:5am)</option>
				</select>
				</li>
				<input id="amount" type="hidden" name="amount" value="350">
				<li style="margin-top: 25px; margin-bottom: 25px;" id="charge350"><input type="submit" value="Sign Up and pay 350" /></li>
				<li style="margin-top: 25px; margin-bottom: 25px;" id="charge500"><input type="submit" value="Sign Up and pay 500" /></li>
				<li style="margin-top: 25px; margin-bottom: 25px;" id="charge650"><input type="submit" value="Sign Up and pay 650" /></li>
				<li style="margin-top: 25px; margin-bottom: 25px;" id="charge850"><input type="submit" value="Sign Up and pay 850" /></li>
				</ul>
			</form>

		<!-- Footer -->
			<footer id="footer">
				<ul class="icons">
					<li><a href="#" class="icon brands fa-facebook"><span class="label">Twitter</span></a></li>
					<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
					<li><a href="#" class="icon fa-envelope"><span class="label">Email</span></a></li>
				</ul>
				<ul class="copyright">
					<li>&copy; Jadavpur University | Faculty of Engineering and Technology Students Union &nbsp; &nbsp;</li><a id="myBtn">Terms and Conditions</a></li>
				</ul>
			</footer>
			
			  <style>
				  	.d-none {
						  display: none !important;
					  }
									/* The Modal (background) */
					.modal {
					display: none; /* Hidden by default */
					position: fixed; /* Stay in place */
					top: 0;
					left: 0;
					width: 100%; /* Full width */
					height: 100vh; /* Full height */
					/* overflow: hidden; Enable scroll if needed */
					/* background-color: rgb(0,0,0); Fallback color */
					z-index: 2000;
					/* color: black; */
					}

					/* Modal Content/Box */
					.modal-content {
					/* background-color: rgba(255,255,255,0.5); */
					position: absolute; /* Stay in place */
					left: 50%;
					top: 50%;
					transform: translate(-50%,-50%);
					margin: auto auto; /* 15% from the top and centered */
					padding: 1rem;
					box-shadow: 10px 10px 10px rgba(0,0,0,0.3);
					background-color: rgba(0,0,0,0.8);
					width: 80%; /* Could be more or less, depending on screen size */
					color: black;
					z-index: 2001;
					
				}

					/* The Close Button */
					.close {
					color: #aaa;
					/* float: right; */
					position: absolute;
					right: 2%;
					top: 2%;
					font-size: 28px;
					font-weight: bold;
					z-index: 5000;
					padding: 0.5rem;
					cursor: pointer;
					display: inline-block;
					}
			  </style>

		<!-- Scripts -->
			<script src="assets/js/main.js"></script>
			<!-- The core Firebase JS SDK is always required and must be listed first -->
			<script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-app.js"></script>
			<script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-database.js"></script>

			<!-- TODO: Add SDKs for Firebase products that you want to use
				https://firebase.google.com/docs/web/setup#available-libraries -->
			<script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-analytics.js"></script>

			<script>
			// Your web app's Firebase configuration
			var firebaseConfig = {
				apiKey: "AIzaSyCsPC8vWJag0S872H-oYkD8tHCwRnukmEg",
				authDomain: "thefetsurunforeducation-8fb04.firebaseapp.com",
				databaseURL: "https://thefetsurunforeducation-8fb04.firebaseio.com",
				projectId: "thefetsurunforeducation-8fb04",
				storageBucket: "thefetsurunforeducation-8fb04.appspot.com",
				messagingSenderId: "661143517601",
				appId: "1:661143517601:web:42ce6065214693abe733e0",
				measurementId: "G-RDVMH8HJB7"
			};
			// Initialize Firebase
			firebase.initializeApp(firebaseConfig);
			firebase.analytics();
				document.getElementById('charge500').classList.add('d-none');
				document.getElementById('charge650').classList.add('d-none');
				document.getElementById('charge850').classList.add('d-none');
				const db = firebase.database();

				function checkselect(event) {
					const amount = document.getElementById('amount');
					const charge350 = document.getElementById('charge350');
					const charge500 = document.getElementById('charge500');
					const charge650 = document.getElementById('charge650');
					const charge850 = document.getElementById('charge850');
					if (event.target.value === "350") {
						amount.value = "350";
						charge350.classList.remove('d-none');
						charge500.classList.add('d-none');
						charge650.classList.add('d-none');
						charge850.classList.add('d-none');
					} else if (event.target.value === "500") {
						amount.value = "500";
						charge350.classList.add('d-none');
						charge500.classList.remove('d-none');
						charge650.classList.add('d-none');
						charge850.classList.add('d-none');
					} else if (event.target.value === "650") {
						amount.value = "500";
						charge350.classList.add('d-none');
						charge500.classList.add('d-none');
						charge650.classList.remove('d-none');
						charge850.classList.add('d-none');
					} else if (event.target.value === "850") {
						amount.value = "500";
						charge350.classList.add('d-none');
						charge500.classList.add('d-none');
						charge650.classList.add('d-none');
						charge850.classList.remove('d-none');
					}
				}
				const url350 = 'https://pmny.in/uIoNQfD2ImXR';
				const url500 = 'https://pmny.in/1I4ivJP4JQPB';
				const url650 = 'https://pmny.in/QImguhfNrTSj';
				const url850 = 'https://pmny.in/VIcgihoNXghh';

				async function formsubmit(event) {
					event.preventDefault();
					console.log(event.target);
					const formData = new FormData(event.target);
					const data = [];
					formData.forEach(entry => data.push(entry));
					const inputData = {
						name: data[0],
						email: data[1],
						phoneNumber: data[2],
						amount: data[3]
					};
					// firebase db save
					await db.ref("orders").push(inputData);
					const selectValue = document.getElementById('chargeSelect').value;
					if (selectValue === "350") { window.location.href = url350; }
					if (selectValue === "500") { window.location.href = url500; }
					if (selectValue === "650") { window.location.href = url650; }
					if (selectValue === "850") { window.location.href = url850; }
				}

				var modal = document.getElementById("myModal");

				// Get the button that opens the modal
				var btn = document.getElementById("myBtn");

				// Get the <span> element that closes the modal
				var span = document.getElementsByClassName("close")[0];

				// When the user clicks on the button, open the modal
				btn.onclick = function() {
				modal.style.display = "block";
				}

				// When the user clicks on <span> (x), close the modal
				span.onclick = function() {
				modal.style.display = "none";
				}

				// When the user clicks anywhere outside of the modal, close it
				window.onclick = function(event) {
				if (event.target == modal) {
					modal.style.display = "none";
				}
				}
			</script>

	</body>
</html>